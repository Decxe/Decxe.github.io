<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>实时视频字幕生成器</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#36D399',
            accent: '#8B5CF6',
            neutral: '#1E293B',
            'base-100': '#FFFFFF',
            'info': '#3ABFF8',
            'success': '#36D399',
            'warning': '#FBBD23',
            'error': '#F87272',
          },
          fontFamily: {
            inter: ['Inter', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      .text-shadow-lg {
        text-shadow: 0 4px 8px rgba(0,0,0,0.12), 0 2px 4px rgba(0,0,0,0.08);
      }
      .backdrop-blur {
        backdrop-filter: blur(8px);
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
    }
  </style>
</head>
<body class="font-inter bg-gray-900 text-gray-100 min-h-screen flex flex-col">
  <!-- 导航栏 -->
  <header class="bg-neutral/80 backdrop-blur fixed w-full z-50 transition-all duration-300" id="navbar">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center space-x-2">
        <i class="fa fa-closed-captioning-o text-primary text-2xl"></i>
        <h1 class="text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">SubGenius</h1>
      </div>
      
      <nav class="hidden md:flex items-center space-x-6">
        <a href="#features" class="text-gray-300 hover:text-primary transition-colors">功能</a>
        <a href="#demo" class="text-gray-300 hover:text-primary transition-colors">演示</a>
        <a href="#settings" class="text-gray-300 hover:text-primary transition-colors">设置</a>
        <a href="#about" class="text-gray-300 hover:text-primary transition-colors">关于</a>
      </nav>
      
      <div class="flex items-center space-x-4">
        <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-700 transition-colors">
          <i class="fa fa-moon-o"></i>
        </button>
        <button class="hidden md:block bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg transition-all transform hover:scale-105">
          开始使用
        </button>
        <button id="mobile-menu-button" class="md:hidden p-2 rounded-full hover:bg-gray-700 transition-colors">
          <i class="fa fa-bars"></i>
        </button>
      </div>
    </div>
    
    <!-- 移动端菜单 -->
    <div id="mobile-menu" class="md:hidden bg-neutral/95 backdrop-blur hidden">
      <div class="container mx-auto px-4 py-3 flex flex-col space-y-3">
        <a href="#features" class="text-gray-300 hover:text-primary py-2 transition-colors">功能</a>
        <a href="#demo" class="text-gray-300 hover:text-primary py-2 transition-colors">演示</a>
        <a href="#settings" class="text-gray-300 hover:text-primary py-2 transition-colors">设置</a>
        <a href="#about" class="text-gray-300 hover:text-primary py-2 transition-colors">关于</a>
        <button class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg transition-all transform hover:scale-105">
          开始使用
        </button>
      </div>
    </div>
  </header>

  <!-- 主内容 -->
  <main class="flex-grow pt-16">
    <!-- 英雄区域 -->
    <section class="relative min-h-[80vh] flex items-center justify-center overflow-hidden">
      <div class="absolute inset-0 z-0">
        <video autoplay muted loop class="w-full h-full object-cover opacity-30">
          <source src="https://assets.mixkit.co/videos/preview/mixkit-people-walking-in-an-airport-hall-2315-large.mp4" type="video/mp4">
        </video>
        <div class="absolute inset-0 bg-gradient-to-b from-gray-900/80 to-gray-900"></div>
      </div>
      
      <div class="container mx-auto px-4 z-10 text-center">
        <h1 class="text-[clamp(2.5rem,5vw,4rem)] font-bold mb-6 leading-tight">
          <span class="bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">实时视频字幕</span>
          <br>让内容无障碍
        </h1>
        <p class="text-[clamp(1rem,2vw,1.25rem)] text-gray-300 max-w-2xl mx-auto mb-8">
          自动生成精准字幕，支持多种语言，提升视频可访问性和用户体验。适用于会议、教育、直播和内容创作。
        </p>
        <div class="flex flex-col sm:flex-row justify-center gap-4">
          <button class="bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-lg transition-all transform hover:scale-105 flex items-center justify-center">
            <i class="fa fa-play-circle mr-2"></i> 立即试用
          </button>
          <button class="bg-gray-800 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-all flex items-center justify-center">
            <i class="fa fa-youtube-play mr-2"></i> 观看演示
          </button>
        </div>
        
        <div class="mt-16 flex flex-wrap justify-center gap-8">
          <div class="flex items-center space-x-2">
            <i class="fa fa-check-circle text-success text-xl"></i>
            <span>实时语音识别</span>
          </div>
          <div class="flex items-center space-x-2">
            <i class="fa fa-check-circle text-success text-xl"></i>
            <span>多语言支持</span>
          </div>
          <div class="flex items-center space-x-2">
            <i class="fa fa-check-circle text-success text-xl"></i>
            <span>自定义样式</span>
          </div>
          <div class="flex items-center space-x-2">
            <i class="fa fa-check-circle text-success text-xl"></i>
            <span>导出字幕文件</span>
          </div>
        </div>
      </div>
      
      <div class="absolute bottom-10 left-0 right-0 flex justify-center">
        <a href="#demo" class="text-gray-400 hover:text-white animate-bounce">
          <i class="fa fa-chevron-down text-2xl"></i>
        </a>
      </div>
    </section>
    
    <!-- 演示区域 -->
    <section id="demo" class="py-20 bg-gray-800">
      <div class="container mx-auto px-4">
        <div class="text-center mb-16">
          <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">实时字幕演示</h2>
          <p class="text-gray-400 max-w-2xl mx-auto">上传视频或使用示例视频体验实时字幕生成功能。调整设置以获得最佳效果。</p>
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <!-- 视频播放器 -->
          <div class="lg:col-span-2 bg-gray-900 rounded-xl overflow-hidden shadow-2xl">
            <div class="relative aspect-video bg-black">
              <video id="video-player" class="w-full h-full object-contain" controls>
                <source src="https://assets.mixkit.co/videos/preview/mixkit-businesswoman-presenting-a-report-4240-large.mp4" type="video/mp4">
                您的浏览器不支持视频播放。
              </video>
              
              <!-- 字幕显示区域 -->
              <div id="subtitle-display" class="absolute bottom-0 left-0 right-0 p-4 bg-black/60 backdrop-blur text-white text-center">
                <p id="current-subtitle" class="text-xl font-medium text-shadow-lg">点击播放按钮开始视频</p>
              </div>
              
              <!-- 语音活动指示器 -->
              <div class="absolute top-4 right-4 bg-black/60 backdrop-blur rounded-full p-2 flex items-center">
                <div id="voice-indicator" class="w-3 h-3 rounded-full bg-gray-500 mr-2"></div>
                <span id="voice-status" class="text-sm">未检测到语音</span>
              </div>
            </div>
            
            <!-- 字幕历史记录 -->
            <div class="p-4 max-h-60 overflow-y-auto scrollbar-hide">
              <h3 class="text-lg font-semibold mb-2 flex items-center">
                <i class="fa fa-history text-primary mr-2"></i> 字幕历史
              </h3>
              <div id="subtitle-history" class="space-y-2 text-sm text-gray-300">
                <p class="opacity-80">系统已就绪，等待视频播放...</p>
              </div>
            </div>
          </div>
          
          <!-- 控制面板 -->
          <div class="bg-gray-900 rounded-xl p-6 shadow-xl">
            <h3 class="text-xl font-semibold mb-6 flex items-center">
              <i class="fa fa-sliders text-primary mr-2"></i> 字幕控制
            </h3>
            
            <!-- 语言选择 -->
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-400 mb-2">识别语言</label>
              <select id="language-select" class="w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-primary focus:border-primary">
                <option value="zh-CN">中文 (简体)</option>
                <option value="en-US">英语 (美国)</option>
                <option value="ja-JP">日语</option>
                <option value="ko-KR">韩语</option>
                <option value="es-ES">西班牙语</option>
                <option value="fr-FR">法语</option>
                <option value="de-DE">德语</option>
              </select>
            </div>
            
            <!-- 字幕样式 -->
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-400 mb-2">字幕样式</label>
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="block text-xs text-gray-500 mb-1">字体大小</label>
                  <input type="range" id="font-size" min="12" max="36" value="18" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary">
                  <div class="flex justify-between text-xs text-gray-500 mt-1">
                    <span>小</span>
                    <span>大</span>
                  </div>
                </div>
                <div>
                  <label class="block text-xs text-gray-500 mb-1">不透明度</label>
                  <input type="range" id="opacity" min="50" max="100" value="90" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary">
                  <div class="flex justify-between text-xs text-gray-500 mt-1">
                    <span>透明</span>
                    <span>不透明</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- 字幕颜色 -->
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-400 mb-2">字幕颜色</label>
              <div class="grid grid-cols-5 gap-2">
                <button class="w-full h-10 rounded-lg bg-white border-2 border-transparent hover:border-gray-400 transition-all" data-color="white"></button>
                <button class="w-full h-10 rounded-lg bg-yellow-300 border-2 border-transparent hover:border-gray-400 transition-all" data-color="yellow-300"></button>
                <button class="w-full h-10 rounded-lg bg-green-400 border-2 border-transparent hover:border-gray-400 transition-all" data-color="green-400"></button>
                <button class="w-full h-10 rounded-lg bg-blue-400 border-2 border-transparent hover:border-gray-400 transition-all" data-color="blue-400"></button>
                <button class="w-full h-10 rounded-lg bg-purple-400 border-2 border-transparent hover:border-gray-400 transition-all" data-color="purple-400"></button>
              </div>
            </div>
            
            <!-- 背景颜色 -->
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-400 mb-2">背景颜色</label>
              <div class="grid grid-cols-5 gap-2">
                <button class="w-full h-10 rounded-lg bg-black/60 border-2 border-transparent hover:border-gray-400 transition-all" data-bg="black/60"></button>
                <button class="w-full h-10 rounded-lg bg-gray-800/60 border-2 border-transparent hover:border-gray-400 transition-all" data-bg="gray-800/60"></button>
                <button class="w-full h-10 rounded-lg bg-primary/60 border-2 border-transparent hover:border-gray-400 transition-all" data-bg="primary/60"></button>
                <button class="w-full h-10 rounded-lg bg-accent/60 border-2 border-transparent hover:border-gray-400 transition-all" data-bg="accent/60"></button>
                <button class="w-full h-10 rounded-lg bg-transparent border-2 border-dashed border-gray-500 hover:border-gray-400 transition-all" data-bg="transparent"></button>
              </div>
            </div>
            
            <!-- 按钮控制 -->
            <div class="flex space-x-3">
              <button id="start-recognition" class="flex-1 bg-primary hover:bg-primary/90 text-white px-4 py-3 rounded-lg transition-all transform hover:scale-105 flex items-center justify-center">
                <i class="fa fa-microphone mr-2"></i> 开始识别
              </button>
              <button id="stop-recognition" class="flex-1 bg-error hover:bg-error/90 text-white px-4 py-3 rounded-lg transition-all transform hover:scale-105 flex items-center justify-center opacity-50 cursor-not-allowed">
                <i class="fa fa-stop mr-2"></i> 停止
              </button>
            </div>
            
            <div class="flex space-x-3 mt-3">
              <button id="download-srt" class="flex-1 bg-gray-700 hover:bg-gray-600 text-white px-4 py-3 rounded-lg transition-all transform hover:scale-105 flex items-center justify-center opacity-50 cursor-not-allowed">
                <i class="fa fa-download mr-2"></i> 导出 SRT
              </button>
              <button id="upload-video" class="flex-1 bg-gray-700 hover:bg-gray-600 text-white px-4 py-3 rounded-lg transition-all transform hover:scale-105 flex items-center justify-center">
                <i class="fa fa-upload mr-2"></i> 上传视频
              </button>
            </div>
            
            <!-- 上传文件输入 -->
            <input type="file" id="video-file-input" accept="video/*" class="hidden">
          </div>
        </div>
      </div>
    </section>
    
    <!-- 功能特点 -->
    <section id="features" class="py-20 bg-gray-900">
      <div class="container mx-auto px-4">
        <div class="text-center mb-16">
          <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">强大功能</h2>
          <p class="text-gray-400 max-w-2xl mx-auto">我们的实时字幕生成器拥有一系列强大功能，满足您的各种需求</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- 功能卡片 1 -->
          <div class="bg-gray-800/50 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 border border-gray-700">
            <div class="w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center mb-4">
              <i class="fa fa-bolt text-primary text-xl"></i>
            </div>
            <h3 class="text-xl font-semibold mb-3">实时语音识别</h3>
            <p class="text-gray-400">利用先进的语音识别技术，实时将视频中的语音转换为文字，延迟极低。</p>
          </div>
          
          <!-- 功能卡片 2 -->
          <div class="bg-gray-800/50 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 border border-gray-700">
            <div class="w-12 h-12 bg-accent/20 rounded-lg flex items-center justify-center mb-4">
              <i class="fa fa-language text-accent text-xl"></i>
            </div>
            <h3 class="text-xl font-semibold mb-3">多语言支持</h3>
            <p class="text-gray-400">支持多种语言的语音识别，包括中文、英语、日语、韩语等，满足全球化需求。</p>
          </div>
          
          <!-- 功能卡片 3 -->
          <div class="bg-gray-800/50 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 border border-gray-700">
            <div class="w-12 h-12 bg-success/20 rounded-lg flex items-center justify-center mb-4">
              <i class="fa fa-paint-brush text-success text-xl"></i>
            </div>
            <h3 class="text-xl font-semibold mb-3">自定义样式</h3>
            <p class="text-gray-400">灵活调整字幕的字体、颜色、大小和位置，使其与您的视频风格完美匹配。</p>
          </div>
          
          <!-- 功能卡片 4 -->
          <div class="bg-gray-800/50 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 border border-gray-700">
            <div class="w-12 h-12 bg-info/20 rounded-lg flex items-center justify-center mb-4">
              <i class="fa fa-download text-info text-xl"></i>
            </div>
            <h3 class="text-xl font-semibold mb-3">多种导出格式</h3>
            <p class="text-gray-400">支持导出SRT、VTT等常见字幕格式，方便您在其他平台和播放器中使用。</p>
          </div>
          
          <!-- 功能卡片 5 -->
          <div class="bg-gray-800/50 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 border border-gray-700">
            <div class="w-12 h-12 bg-warning/20 rounded-lg flex items-center justify-center mb-4">
              <i class="fa fa-cog text-warning text-xl"></i>
            </div>
            <h3 class="text-xl font-semibold mb-3">高级音频处理</h3>
            <p class="text-gray-400">内置噪声过滤和语音增强技术，即使在嘈杂环境中也能获得清晰准确的字幕。</p>
          </div>
          
          <!-- 功能卡片 6 -->
          <div class="bg-gray-800/50 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 border border-gray-700">
            <div class="w-12 h-12 bg-error/20 rounded-lg flex items-center justify-center mb-4">
              <i class="fa fa-lock text-error text-xl"></i>
            </div>
            <h3 class="text-xl font-semibold mb-3">隐私保护</h3>
            <p class="text-gray-400">所有视频和音频数据仅在本地处理，不会上传到云端，确保您的内容安全。</p>
          </div>
        </div>
      </div>
    </section>
    
    <!-- 设置与API -->
    <section id="settings" class="py-20 bg-gray-800">
      <div class="container mx-auto px-4">
        <div class="text-center mb-16">
          <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">灵活设置</h2>
          <p class="text-gray-400 max-w-2xl mx-auto">根据您的需求定制字幕生成器的各种参数和选项</p>
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
          <!-- 左侧：详细设置 -->
          <div class="bg-gray-900 rounded-xl p-6 shadow-xl">
            <h3 class="text-xl font-semibold mb-6 flex items-center">
              <i class="fa fa-cogs text-primary mr-2"></i> 高级设置
            </h3>
            
            <!-- 识别精度 -->
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-400 mb-2">识别精度</label>
              <div class="flex items-center">
                <input type="range" id="accuracy" min="0" max="2" value="1" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary">
                <span class="ml-3 text-sm text-gray-400" id="accuracy-value">平衡</span>
              </div>
              <div class="flex justify-between text-xs text-gray-500 mt-1">
                <span>速度优先</span>
                <span>精度优先</span>
              </div>
            </div>
            
            <!-- 灵敏度 -->
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-400 mb-2">语音灵敏度</label>
              <div class="flex items-center">
                <input type="range" id="sensitivity" min="0" max="100" value="70" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary">
                <span class="ml-3 text-sm text-gray-400" id="sensitivity-value">70%</span>
              </div>
              <div class="flex justify-between text-xs text-gray-500 mt-1">
                <span>低</span>
                <span>高</span>
              </div>
            </div>
            
            <!-- 标点符号 -->
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-400 mb-2">自动标点</label>
              <div class="flex items-center space-x-4">
                <label class="inline-flex items-center">
                  <input type="radio" name="punctuation" value="auto" checked class="w-4 h-4 text-primary focus:ring-primary border-gray-600">
                  <span class="ml-2 text-sm text-gray-300">自动</span>
                </label>
                <label class="inline-flex items-center">
                  <input type="radio" name="punctuation" value="none" class="w-4 h-4 text-primary focus:ring-primary border-gray-600">
                  <span class="ml-2 text-sm text-gray-300">无</span>
                </label>
                <label class="inline-flex items-center">
                  <input type="radio" name="punctuation" value="manual" class="w-4 h-4 text-primary focus:ring-primary border-gray-600">
                  <span class="ml-2 text-sm text-gray-300">手动</span>
                </label>
              </div>
            </div>
            
            <!-- 高级选项 -->
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-400 mb-2">高级选项</label>
              <div class="space-y-3">
                <label class="inline-flex items-center">
                  <input type="checkbox" id="capitalization" checked class="w-4 h-4 text-primary focus:ring-primary border-gray-600 rounded">
                  <span class="ml-2 text-sm text-gray-300">自动大写</span>
                </label>
                <label class="inline-flex items-center">
                  <input type="checkbox" id="profanity-filter" checked class="w-4 h-4 text-primary focus:ring-primary border-gray-600 rounded">
                  <span class="ml-2 text-sm text-gray-300">脏话过滤</span>
                </label>
                <label class="inline-flex items-center">
                  <input type="checkbox" id="speaker-detection" class="w-4 h-4 text-primary focus:ring-primary border-gray-600 rounded">
                  <span class="ml-2 text-sm text-gray-300">说话人识别</span>
                </label>
                <label class="inline-flex items-center">
                  <input type="checkbox" id="auto-scroll" checked class="w-4 h-4 text-primary focus:ring-primary border-gray-600 rounded">
                  <span class="ml-2 text-sm text-gray-300">自动滚动历史</span>
                </label>
              </div>
            </div>
            
            <!-- 语速 -->
            <div class="mb-6">
              <label class="block text-sm font-medium text-gray-400 mb-2">语速调整</label>
              <div class="flex items-center">
                <input type="range" id="speech-rate" min="0.5" max="2" step="0.1" value="1" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary">
                <span class="ml-3 text-sm text-gray-400" id="speech-rate-value">1.0x</span>
              </div>
              <div class="flex justify-between text-xs text-gray-500 mt-1">
                <span>慢速</span>
                <span>快速</span>
              </div>
            </div>
            
            <button class="w-full bg-primary hover:bg-primary/90 text-white px-4 py-3 rounded-lg transition-all transform hover:scale-105 flex items-center justify-center">
              <i class="fa fa-save mr-2"></i> 保存设置
            </button>
          </div>
          
          <!-- 右侧：API 文档 -->
          <div class="bg-gray-900 rounded-xl p-6 shadow-xl">
            <h3 class="text-xl font-semibold mb-6 flex items-center">
              <i class="fa fa-code text-accent mr-2"></i> API 集成
            </h3>
            
            <p class="text-gray-400 mb-6">将我们的实时字幕生成器集成到您的应用程序或网站中。以下是基本的API使用示例：</p>
            
            <div class="bg-gray-800 rounded-lg p-4 mb-6">
              <pre class="text-gray-300 text-sm overflow-x-auto scrollbar-hide"><code>// 初始化字幕生成器
const subtitleGenerator = new SubtitleGenerator({
  language: 'zh-CN',
  accuracy: 'balanced',
  sensitivity: 70,
  profanityFilter: true
});

// 连接到视频源
subtitleGenerator.connectVideo(videoElement);

// 开始识别
subtitleGenerator.startRecognition();

// 监听字幕事件
subtitleGenerator.on('subtitle', (subtitle) => {
  console.log('新字幕:', subtitle);
  // 更新UI显示字幕
});

// 停止识别
subtitleGenerator.stopRecognition();</code></pre>
            </div>
            
            <h4 class="text-lg font-medium mb-3 text-gray-300">主要方法</h4>
            <div class="space-y-4">
              <div class="bg-gray-800/50 rounded-lg p-3">
                <h5 class="font-medium text-primary mb-1">startRecognition()</h5>
                <p class="text-sm text-gray-400">开始语音识别并生成字幕</p>
              </div>
              
              <div class="bg-gray-800/50 rounded-lg p-3">
                <h5 class="font-medium text-primary mb-1">stopRecognition()</h5>
                <p class="text-sm text-gray-400">停止语音识别</p>
              </div>
              
              <div class="bg-gray-800/50 rounded-lg p-3">
                <h5 class="font-medium text-primary mb-1">connectVideo(videoElement)</h5>
                <p class="text-sm text-gray-400">连接到视频元素以捕获音频</p>
              </div>
              
              <div class="bg-gray-800/50 rounded-lg p-3">
                <h5 class="font-medium text-primary mb-1">setOptions(options)</h5>
                <p class="text-sm text-gray-400">更新识别选项，如语言、灵敏度等</p>
              </div>
              
              <div class="bg-gray-800/50 rounded-lg p-3">
                <h5 class="font-medium text-primary mb-1">exportSRT()</h5>
                <p class="text-sm text-gray-400">导出SRT格式的字幕文件</p>
              </div>
            </div>
            
            <div class="mt-6">
              <a href="#" class="text-primary hover:text-primary/80 flex items-center">
                <span>查看完整API文档</span>
                <i class="fa fa-arrow-right ml-2"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- 使用统计 -->
    <section class="py-20 bg-gray-900">
      <div class="container mx-auto px-4">
        <div class="text-center mb-16">
          <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">用户使用统计</h2>
          <p class="text-gray-400 max-w-2xl mx-auto">我们的字幕生成器已帮助数千名用户创建了高质量的视频字幕</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <div class="bg-gray-800/50 rounded-xl p-6 shadow-lg border border-gray-700">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold text-gray-300">总生成字幕</h3>
              <div class="w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center">
                <i class="fa fa-file-text-o text-primary"></i>
              </div>
            </div>
            <p class="text-3xl font-bold text-white">125,800+</p>
            <p class="text-sm text-gray-500 mt-1">自2023年上线以来</p>
          </div>
          
          <div class="bg-gray-800/50 rounded-xl p-6 shadow-lg border border-gray-700">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold text-gray-300">活跃用户</h3>
              <div class="w-10 h-10 bg-accent/20 rounded-full flex items-center justify-center">
                <i class="fa fa-users text-accent"></i>
              </div>
            </div>
            <p class="text-3xl font-bold text-white">8,500+</p>
            <p class="text-sm text-gray-500 mt-1">每月活跃用户</p>
          </div>
          
          <div class="bg-gray-800/50 rounded-xl p-6 shadow-lg border border-gray-700">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold text-gray-300">识别准确率</h3>
              <div class="w-10 h-10 bg-success/20 rounded-full flex items-center justify-center">
                <i class="fa fa-check-circle text-success"></i>
              </div>
            </div>
            <p class="text-3xl font-bold text-white">96.8%</p>
            <p class="text-sm text-gray-500 mt-1">平均识别准确率</p>
          </div>
          
          <div class="bg-gray-800/50 rounded-xl p-6 shadow-lg border border-gray-700">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold text-gray-300">支持语言</h3>
              <div class="w-10 h-10 bg-info/20 rounded-full flex items-center justify-center">
                <i class="fa fa-globe text-info"></i>
              </div>
            </div>
            <p class="text-3xl font-bold text-white">28+</p>
            <p class="text-sm text-gray-500 mt-1">全球主流语言</p>
          </div>
        </div>
        
        <div class="mt-12 bg-gray-800/50 rounded-xl p-6 shadow-lg border border-gray-700">
          <h3 class="text-xl font-semibold mb-6 flex items-center">
            <i class="fa fa-bar-chart text-primary mr-2"></i> 月度使用趋势
          </h3>
          <div class="h-80">
            <canvas id="usageChart"></canvas>
          </div>
        </div>
      </div>
    </section>
    
    <!-- 用户评价 -->
    <section class="py-20 bg-gray-800">
      <div class="container mx-auto px-4">
        <div class="text-center mb-16">
          <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">用户评价</h2>
          <p class="text-gray-400 max-w-2xl mx-auto">听听我们的用户如何评价我们的实时字幕生成器</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- 评价卡片 1 -->
          <div class="bg-gray-900 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all">
            <div class="flex items-center mb-4">
              <img src="https://picsum.photos/seed/user1/60/60" alt="用户头像" class="w-12 h-12 rounded-full object-cover">
              <div class="ml-4">
                <h4 class="font-semibold">张小明</h4>
                <p class="text-sm text-gray-500">教育博主</p>
              </div>
            </div>
            <div class="mb-4 text-yellow-400">
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
            </div>
            <p class="text-gray-300">"作为一名教育博主，我制作了大量的教学视频。这个字幕生成器帮我省下了大量手动打字幕的时间，而且准确率非常高，几乎不需要修改。"</p>
          </div>
          
          <!-- 评价卡片 2 -->
          <div class="bg-gray-900 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all">
            <div class="flex items-center mb-4">
              <img src="https://picsum.photos/seed/user2/60/60" alt="用户头像" class="w-12 h-12 rounded-full object-cover">
              <div class="ml-4">
                <h4 class="font-semibold">李佳琪</h4>
                <p class="text-sm text-gray-500">企业培训师</p>
              </div>
            </div>
            <div class="mb-4 text-yellow-400">
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star-half-o"></i>
            </div>
            <p class="text-gray-300">"在企业培训中，我们需要为大量的会议和培训内容创建字幕。这个工具让我们的工作效率提高了数倍，而且自定义选项非常丰富。"</p>
          </div>
          
          <!-- 评价卡片 3 -->
          <div class="bg-gray-900 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all">
            <div class="flex items-center mb-4">
              <img src="https://picsum.photos/seed/user3/60/60" alt="用户头像" class="w-12 h-12 rounded-full object-cover">
              <div class="ml-4">
                <h4 class="font-semibold">王大锤</h4>
                <p class="text-sm text-gray-500">视频制作人</p>
              </div>
            </div>
            <div class="mb-4 text-yellow-400">
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
            </div>
            <p class="text-gray-300">"我制作多语言的视频内容，这个字幕生成器支持多种语言，而且转换速度快得惊人。界面也很直观，即使是新手也能快速上手。"</p>
          </div>
        </div>
      </div>
    </section>
    
    <!-- 常见问题 -->
    <section id="about" class="py-20 bg-gray-900">
      <div class="container mx-auto px-4">
        <div class="text-center mb-16">
          <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">常见问题</h2>
          <p class="text-gray-400 max-w-2xl mx-auto">了解更多关于我们的实时字幕生成器的信息</p>
        </div>
        
        <div class="max-w-3xl mx-auto">
          <div class="space-y-4">
            <!-- FAQ 项目 1 -->
            <div class="bg-gray-800/50 rounded-xl overflow-hidden">
              <button class="faq-toggle w-full px-6 py-4 text-left flex justify-between items-center">
                <span class="font-medium">这个工具需要联网使用吗？</span>
                <i class="fa fa-chevron-down text-gray-400 transition-transform"></i>
              </button>
              <div class="faq-content px-6 pb-4 hidden">
                <p class="text-gray-400">是的，目前这个工具需要联网使用，因为语音识别功能依赖于云端API。我们正在开发离线版本，将在未来的更新中提供。</p>
              </div>
            </div>
            
            <!-- FAQ 项目 2 -->
            <div class="bg-gray-800/50 rounded-xl overflow-hidden">
              <button class="faq-toggle w-full px-6 py-4 text-left flex justify-between items-center">
                <span class="font-medium">支持哪些视频格式？</span>
                <i class="fa fa-chevron-down text-gray-400 transition-transform"></i>
              </button>
              <div class="faq-content px-6 pb-4 hidden">
                <p class="text-gray-400">我们的工具支持大多数常见的视频格式，包括MP4、WebM、AVI、MOV等。如果您遇到特定格式无法加载的问题，请尝试转换为MP4格式。</p>
              </div>
            </div>
            
            <!-- FAQ 项目 3 -->
            <div class="bg-gray-800/50 rounded-xl overflow-hidden">
              <button class="faq-toggle w-full px-6 py-4 text-left flex justify-between items-center">
                <span class="font-medium">字幕的准确性如何？</span>
                <i class="fa fa-chevron-down text-gray-400 transition-transform"></i>
              </button>
              <div class="faq-content px-6 pb-4 hidden">
                <p class="text-gray-400">字幕的准确性取决于多种因素，包括音频质量、说话清晰度和语言复杂性。一般来说，我们的识别准确率在95%以上，但在嘈杂环境或口音较重的情况下可能会有所下降。</p>
              </div>
            </div>
            
            <!-- FAQ 项目 4 -->
            <div class="bg-gray-800/50 rounded-xl overflow-hidden">
              <button class="faq-toggle w-full px-6 py-4 text-left flex justify-between items-center">
                <span class="font-medium">生成的字幕可以用于商业用途吗？</span>
                <i class="fa fa-chevron-down text-gray-400 transition-transform"></i>
              </button>
              <div class="faq-content px-6 pb-4 hidden">
                <p class="text-gray-400">是的，您生成的字幕可以用于任何商业或非商业用途。我们不保留您生成的字幕内容的任何权利，所有内容完全归您所有。</p>
              </div>
            </div>
            
            <!-- FAQ 项目 5 -->
            <div class="bg-gray-800/50 rounded-xl overflow-hidden">
              <button class="faq-toggle w-full px-6 py-4 text-left flex justify-between items-center">
                <span class="font-medium">如何提高识别准确率？</span>
                <i class="fa fa-chevron-down text-gray-400 transition-transform"></i>
              </button>
              <div class="faq-content px-6 pb-4 hidden">
                <p class="text-gray-400">为了获得最佳识别效果，建议使用清晰的音频源，避免背景噪音。您也可以在设置中调整"语音灵敏度"和"识别精度"参数，以适应不同的音频环境。</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- 行动召唤 -->
    <section class="py-20 bg-gradient-to-r from-primary/20 to-accent/20 relative overflow-hidden">
      <div class="absolute inset-0 z-0">
        <div class="absolute inset-0 bg-gray-900/80"></div>
        <img src="https://picsum.photos/seed/calltoaction/1920/1080" alt="背景" class="w-full h-full object-cover opacity-30">
      </div>
      
      <div class="container mx-auto px-4 relative z-10">
        <div class="max-w-3xl mx-auto text-center">
          <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-6">立即开始创建专业字幕</h2>
          <p class="text-xl text-gray-300 mb-8">加入数千名内容创作者的行列，利用我们的实时字幕生成器提升视频质量和可访问性。</p>
          <div class="flex flex-col sm:flex-row justify-center gap-4">
            <button class="bg-primary hover:bg-primary/90 text-white px-8 py-4 rounded-lg transition-all transform hover:scale-105 flex items-center justify-center">
              <i class="fa fa-rocket mr-2"></i> 免费开始使用
            </button>
            <button class="bg-transparent hover:bg-white/10 text-white border border-white/30 px-8 py-4 rounded-lg transition-all flex items-center justify-center">
              <i class="fa fa-book mr-2"></i> 查看使用教程
            </button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- 页脚 -->
  <footer class="bg-gray-900 border-t border-gray-800">
    <div class="container mx-auto px-4 py-12">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        <!-- 公司信息 -->
        <div>
          <div class="flex items-center space-x-2 mb-4">
            <i class="fa fa-closed-captioning-o text-primary text-2xl"></i>
            <h2 class="text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">SubGenius</h2>
          </div>
          <p class="text-gray-400 mb-4">实时视频字幕生成工具，让您的内容更加无障碍。</p>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-primary transition-colors">
              <i class="fa fa-twitter"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-primary transition-colors">
              <i class="fa fa-facebook"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-primary transition-colors">
              <i class="fa fa-instagram"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-primary transition-colors">
              <i class="fa fa-github"></i>
            </a>
          </div>
        </div>
        
        <!-- 快速链接 -->
        <div>
          <h3 class="text-lg font-semibold mb-4">快速链接</h3>
          <ul class="space-y-2">
            <li><a href="#features" class="text-gray-400 hover:text-primary transition-colors">功能</a></li>
            <li><a href="#demo" class="text-gray-400 hover:text-primary transition-colors">演示</a></li>
            <li><a href="#settings" class="text-gray-400 hover:text-primary transition-colors">设置</a></li>
            <li><a href="#about" class="text-gray-400 hover:text-primary transition-colors">关于</a></li>
            <li><a href="#" class="text-gray-400 hover:text-primary transition-colors">API文档</a></li>
          </ul>
        </div>
        
        <!-- 支持 -->
        <div>
          <h3 class="text-lg font-semibold mb-4">支持</h3>
          <ul class="space-y-2">
            <li><a href="#" class="text-gray-400 hover:text-primary transition-colors">帮助中心</a></li>
            <li><a href="#" class="text-gray-400 hover:text-primary transition-colors">使用教程</a></li>
            <li><a href="#" class="text-gray-400 hover:text-primary transition-colors">常见问题</a></li>
            <li><a href="#" class="text-gray-400 hover:text-primary transition-colors">联系我们</a></li>
            <li><a href="#" class="text-gray-400 hover:text-primary transition-colors">隐私政策</a></li>
          </ul>
        </div>
        
        <!-- 订阅 -->
        <div>
          <h3 class="text-lg font-semibold mb-4">订阅更新</h3>
          <p class="text-gray-400 mb-4">获取最新功能和更新的通知</p>
          <form class="flex">
            <input type="email" placeholder="您的邮箱地址" class="flex-1 bg-gray-800 border border-gray-700 rounded-l-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
            <button type="submit" class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-r-lg transition-colors">
              <i class="fa fa-paper-plane"></i>
            </button>
          </form>
        </div>
      </div>
      
      <div class="border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
        <p class="text-gray-500 text-sm">© 2025 SubGenius. 保留所有权利。</p>
        <div class="flex space-x-6 mt-4 md:mt-0">
          <a href="#" class="text-gray-500 hover:text-primary text-sm transition-colors">隐私政策</a>
          <a href="#" class="text-gray-500 hover:text-primary text-sm transition-colors">服务条款</a>
          <a href="#" class="text-gray-500 hover:text-primary text-sm transition-colors">Cookie 政策</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    // 页面加载完成后执行
    document.addEventListener('DOMContentLoaded', function() {
      // 导航栏滚动效果
      const navbar = document.getElementById('navbar');
      window.addEventListener('scroll', function() {
        if (window.scrollY > 50) {
          navbar.classList.add('py-2', 'shadow-lg');
          navbar.classList.remove('py-3');
        } else {
          navbar.classList.add('py-3');
          navbar.classList.remove('py-2', 'shadow-lg');
        }
      });
      
      // 移动端菜单切换
      const mobileMenuButton = document.getElementById('mobile-menu-button');
      const mobileMenu = document.getElementById('mobile-menu');
      
      mobileMenuButton.addEventListener('click', function() {
        mobileMenu.classList.toggle('hidden');
        const icon = mobileMenuButton.querySelector('i');
        if (mobileMenu.classList.contains('hidden')) {
          icon.classList.remove('fa-times');
          icon.classList.add('fa-bars');
        } else {
          icon.classList.remove('fa-bars');
          icon.classList.add('fa-times');
        }
      });
      
      // 平滑滚动
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          
          const targetId = this.getAttribute('href');
          const targetElement = document.querySelector(targetId);
          
          if (targetElement) {
            window.scrollTo({
              top: targetElement.offsetTop - 80,
              behavior: 'smooth'
            });
            
            // 如果是在移动端，点击后关闭菜单
            if (!mobileMenu.classList.contains('hidden')) {
              mobileMenu.classList.add('hidden');
              const icon = mobileMenuButton.querySelector('i');
              icon.classList.remove('fa-times');
              icon.classList.add('fa-bars');
            }
          }
        });
      });
      
      // FAQ 切换
      document.querySelectorAll('.faq-toggle').forEach(toggle => {
        toggle.addEventListener('click', function() {
          const content = this.nextElementSibling;
          const icon = this.querySelector('i');
          
          content.classList.toggle('hidden');
          icon.classList.toggle('rotate-180');
        });
      });
      
      // 初始化图表
      const ctx = document.getElementById('usageChart').getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],
          datasets: [{
            label: '生成字幕数量',
            data: [8500, 12000, 14500, 18000, 22000, 25000, 28000, 32000, 36000, 42000, 48000, 55000],
            borderColor: '#165DFF',
            backgroundColor: 'rgba(22, 93, 255, 0.1)',
            tension: 0.3,
            fill: true
          }, {
            label: '活跃用户',
            data: [2500, 3200, 3800, 4500, 5200, 5800, 6300, 6800, 7200, 7800, 8200, 8500],
            borderColor: '#8B5CF6',
            backgroundColor: 'rgba(139, 92, 246, 0.1)',
            tension: 0.3,
            fill: true
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'top',
              labels: {
                color: '#94A3B8'
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: 'rgba(148, 163, 184, 0.1)'
              },
              ticks: {
                color: '#94A3B8'
              }
            },
            x: {
              grid: {
                color: 'rgba(148, 163, 184, 0.1)'
              },
              ticks: {
                color: '#94A3B8'
              }
            }
          }
        }
      });
      
      // 字幕生成器功能模拟
      const videoPlayer = document.getElementById('video-player');
      const startButton = document.getElementById('start-recognition');
      const stopButton = document.getElementById('stop-recognition');
      const downloadButton = document.getElementById('download-srt');
      const subtitleDisplay = document.getElementById('current-subtitle');
      const subtitleHistory = document.getElementById('subtitle-history');
      const voiceIndicator = document.getElementById('voice-indicator');
      const voiceStatus = document.getElementById('voice-status');
      const languageSelect = document.getElementById('language-select');
      const fontSizeSlider = document.getElementById('font-size');
      const opacitySlider = document.getElementById('opacity');
      const speechRateSlider = document.getElementById('speech-rate');
      const accuracySlider = document.getElementById('accuracy');
      const sensitivitySlider = document.getElementById('sensitivity');
      const speechRateValue = document.getElementById('speech-rate-value');
      const accuracyValue = document.getElementById('accuracy-value');
      const sensitivityValue = document.getElementById('sensitivity-value');
      const uploadButton = document.getElementById('upload-video');
      const videoFileInput = document.getElementById('video-file-input');
      
      // 字幕样式设置
      const colorButtons = document.querySelectorAll('[data-color]');
      const bgButtons = document.querySelectorAll('[data-bg]');
      
      // 模拟字幕数据
      const sampleSubtitles = [
        { text: "大家好，欢迎使用我们的实时字幕生成器。", startTime: 0, endTime: 5 },
        { text: "这个工具可以帮助您快速为视频生成准确的字幕。", startTime: 5, endTime: 10 },
        { text: "它支持多种语言，包括中文、英文、日文等。", startTime: 10, endTime: 15 },
        { text: "您可以自定义字幕的样式，使其更符合您的需求。", startTime: 15, endTime: 20 },
        { text: "字幕生成后，您可以下载为SRT格式，方便在各种播放器中使用。", startTime: 20, endTime: 25 },
        { text: "无论是教育视频、会议记录还是自媒体内容，都能从中受益。", startTime: 25, endTime: 30 },
        { text: "现在，让我们开始体验这个强大的工具吧！", startTime: 30, endTime: 35 }
      ];
      
      let recognitionActive = false;
      let currentSubtitleIndex = 0;
      let subtitleTimer = null;
      let subtitleColor = 'white';
      let subtitleBg = 'black/60';
      
      // 模拟语音识别
      function startRecognition() {
        if (recognitionActive) return;
        
        recognitionActive = true;
        startButton.classList.add('opacity-50', 'cursor-not-allowed');
        stopButton.classList.remove('opacity-50', 'cursor-not-allowed');
        downloadButton.classList.remove('opacity-50', 'cursor-not-allowed');
        
        voiceIndicator.classList.remove('bg-gray-500');
        voiceIndicator.classList.add('bg-success', 'animate-pulse');
        voiceStatus.textContent = '正在识别';
        
        // 清空历史记录
        subtitleHistory.innerHTML = '';
        
        // 模拟视频播放
        videoPlayer.play().catch(e => console.log('视频自动播放失败:', e));
        
        // 模拟字幕生成
        currentSubtitleIndex = 0;
        generateNextSubtitle();
      }
      
      function stopRecognition() {
        if (!recognitionActive) return;
        
        recognitionActive = false;
        startButton.classList.remove('opacity-50', 'cursor-not-allowed');
        stopButton.classList.add('opacity-50', 'cursor-not-allowed');
        
        voiceIndicator.classList.remove('bg-success', 'animate-pulse');
        voiceIndicator.classList.add('bg-gray-500');
        voiceStatus.textContent = '未检测到语音';
        
        // 停止模拟字幕生成
        if (subtitleTimer) {
          clearTimeout(subtitleTimer);
          subtitleTimer = null;
        }
        
        // 重置字幕显示
        subtitleDisplay.textContent = '点击开始按钮启动字幕识别';
      }
      
      function generateNextSubtitle() {
        if (currentSubtitleIndex >= sampleSubtitles.length) {
          // 所有字幕生成完毕
          subtitleDisplay.textContent = '字幕生成完毕';
          voiceIndicator.classList.remove('bg-success', 'animate-pulse');
          voiceIndicator.classList.add('bg-gray-500');
          voiceStatus.textContent = '识别完成';
          return;
        }
        
        const subtitle = sampleSubtitles[currentSubtitleIndex];
        subtitleDisplay.textContent = subtitle.text;
        
        // 添加到历史记录
        const historyItem = document.createElement('p');
        historyItem.textContent = subtitle.text;
        historyItem.className = 'opacity-80';
        subtitleHistory.appendChild(historyItem);
        
        // 滚动到底部
        subtitleHistory.scrollTop = subtitleHistory.scrollHeight;
        
        // 设置下一个字幕的计时器
        const duration = subtitle.endTime - subtitle.startTime;
        currentSubtitleIndex++;
        
        subtitleTimer = setTimeout(generateNextSubtitle, duration * 1000);
      }
      
      // 下载SRT文件
      function downloadSRT() {
        if (!recognitionActive && currentSubtitleIndex === 0) {
          alert('请先生成字幕');
          return;
        }
        
        let srtContent = '';
        
        sampleSubtitles.forEach((subtitle, index) => {
          const startTime = formatTime(subtitle.startTime);
          const endTime = formatTime(subtitle.endTime);
          
          srtContent += `${index + 1}\n`;
          srtContent += `${startTime} --> ${endTime}\n`;
          srtContent += `${subtitle.text}\n\n`;
        });
        
        const blob = new Blob([srtContent], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'subtitles.srt';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }
      
      // 格式化时间为SRT格式
      function formatTime(seconds) {
        const hours = Math.floor(seconds / 3600);
        const minutes = Math.floor((seconds % 3600) / 60);
        const secs = Math.floor(seconds % 60);
        const millis = Math.round((seconds - Math.floor(seconds)) * 1000);
        
        return `${padZero(hours)}:${padZero(minutes)}:${padZero(secs)},${padZero(millis, 3)}`;
      }
      
      // 补零
      function padZero(num, length = 2) {
        return num.toString().padStart(length, '0');
      }
      
      // 上传视频
      function uploadVideo() {
        videoFileInput.click();
      }
      
      videoFileInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
          const videoUrl = URL.createObjectURL(file);
          videoPlayer.src = videoUrl;
          videoPlayer.load();
          
          // 重置字幕状态
          stopRecognition();
          subtitleDisplay.textContent = '点击播放按钮开始视频';
          subtitleHistory.innerHTML = '<p class="opacity-80">系统已就绪，等待视频播放...</p>';
        }
      });
      
      // 更新字幕样式
      function updateSubtitleStyle() {
        subtitleDisplay.style.fontSize = `${fontSizeSlider.value}px`;
        subtitleDisplay.style.opacity = opacitySlider.value / 100;
        subtitleDisplay.style.color = `rgb(var(--${subtitleColor}-rgb))`;
        
        if (subtitleBg === 'transparent') {
          subtitleDisplay.parentElement.style.backgroundColor = 'transparent';
        } else {
          const [color, opacity] = subtitleBg.split('/');
          subtitleDisplay.parentElement.style.backgroundColor = `rgba(var(--${color}-rgb), ${opacity})`;
        }
      }
      
      // 事件监听
      startButton.addEventListener('click', startRecognition);
      stopButton.addEventListener('click', stopRecognition);
      downloadButton.addEventListener('click', downloadSRT);
      uploadButton.addEventListener('click', uploadVideo);
      
      // 字幕样式设置
      fontSizeSlider.addEventListener('input', updateSubtitleStyle);
      opacitySlider.addEventListener('input', updateSubtitleStyle);
      
      colorButtons.forEach(button => {
        button.addEventListener('click', function() {
          colorButtons.forEach(btn => btn.classList.remove('border-white'));
          this.classList.add('border-white');
          subtitleColor = this.getAttribute('data-color');
          updateSubtitleStyle();
        });
      });
      
      bgButtons.forEach(button => {
        button.addEventListener('click', function() {
          bgButtons.forEach(btn => btn.classList.remove('border-white'));
          this.classList.add('border-white');
          subtitleBg = this.getAttribute('data-bg');
          updateSubtitleStyle();
        });
      });
      
      // 设置初始选中的样式
      document.querySelector('[data-color="white"]').classList.add('border-white');
      document.querySelector('[data-bg="black/60"]').classList.add('border-white');
      
      // 更新设置值显示
      speechRateSlider.addEventListener('input', function() {
        speechRateValue.textContent = `${this.value}x`;
      });
      
      accuracySlider.addEventListener('input', function() {
        const values = ['速度优先', '平衡', '精度优先'];
        accuracyValue.textContent = values[this.value];
      });
      
      sensitivitySlider.addEventListener('input', function() {
        sensitivityValue.textContent = `${this.value}%`;
      });
      
      // 初始化设置值显示
      speechRateValue.textContent = `${speechRateSlider.value}x`;
      sensitivityValue.textContent = `${sensitivitySlider.value}%`;
      
      // 视频播放状态监听
      videoPlayer.addEventListener('play', function() {
        if (!recognitionActive) {
          subtitleDisplay.textContent = '点击开始按钮启动字幕识别';
        }
      });
      
      videoPlayer.addEventListener('pause', function() {
        if (recognitionActive) {
          stopRecognition();
        }
      });
      
      // 初始化字幕样式
      updateSubtitleStyle();
    });
  </script>
</body>
</html>
  
